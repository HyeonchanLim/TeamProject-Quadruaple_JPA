import{r as d,at as dr,av as Dt,o as pe,ar as Pe,au as Ne,bo as se,_ as xe,bA as kr,aP as Or,aB as lt,as as Fe,bF as $r,z as jr,cR as Tr,bJ as Ut,aL as Ar,aw as ot,v as zr,w as Fr,aH as Ir,q as Re,b$ as Zt,ai as ze,bm as Br,aK as Lr,aQ as Hr,j as S,B as ft,c as fr,a as hr,u as pr,g as ht,M as Wr,a1 as qr,aj as Ur,I as mr,ak as Xt,m as pt,X as Ge}from"./index-CclgMCKg.js";import{M as Zr}from"./index-Dc0vd-op.js";import{U as vr}from"./index-BfZ_5wYh.js";import{T as Xr}from"./index-CSlYUxik.js";import{u as gr,F as _e}from"./index-Y7Vl51Ml.js";import{f as Gr}from"./index-317k7Gzh.js";import{m as Gt}from"./menuAtom-rFJpLOhV.js";import{m as De,e as Yr,c as Yt}from"./match-BrbVKEl2.js";import{S as br}from"./index-DzJzb7gE.js";import{T as ut}from"./index-1EcgOAam.js";function _t(t,n,e){return(t-n)/(e-n)}function kt(t,n,e,r){var o=_t(n,e,r),a={};switch(t){case"rtl":a.right="".concat(o*100,"%"),a.transform="translateX(50%)";break;case"btt":a.bottom="".concat(o*100,"%"),a.transform="translateY(50%)";break;case"ttb":a.top="".concat(o*100,"%"),a.transform="translateY(-50%)";break;default:a.left="".concat(o*100,"%"),a.transform="translateX(-50%)";break}return a}function qe(t,n){return Array.isArray(t)?t[n]:t}var Ue=d.createContext({min:0,max:0,direction:"ltr",step:1,includedStart:0,includedEnd:0,tabIndex:0,keyboard:!0,styles:{},classNames:{}}),Vr=d.createContext({}),Kr=["prefixCls","value","valueIndex","onStartMove","onDelete","style","render","dragging","draggingDelete","onOffsetChange","onChangeComplete","onFocus","onMouseEnter"],Vt=d.forwardRef(function(t,n){var e=t.prefixCls,r=t.value,o=t.valueIndex,a=t.onStartMove,i=t.onDelete,s=t.style,f=t.render,c=t.dragging,u=t.draggingDelete,g=t.onOffsetChange,C=t.onChangeComplete,b=t.onFocus,m=t.onMouseEnter,p=dr(t,Kr),l=d.useContext(Ue),v=l.min,h=l.max,y=l.direction,x=l.disabled,E=l.keyboard,M=l.range,j=l.tabIndex,z=l.ariaLabelForHandle,N=l.ariaLabelledByForHandle,w=l.ariaRequired,R=l.ariaValueTextFormatterForHandle,P=l.styles,k=l.classNames,F="".concat(e,"-handle"),O=function(q){x||a(q,o)},K=function(q){b==null||b(q,o)},W=function(q){m(q,o)},me=function(q){if(!x&&E){var A=null;switch(q.which||q.keyCode){case se.LEFT:A=y==="ltr"||y==="btt"?-1:1;break;case se.RIGHT:A=y==="ltr"||y==="btt"?1:-1;break;case se.UP:A=y!=="ttb"?1:-1;break;case se.DOWN:A=y!=="ttb"?-1:1;break;case se.HOME:A="min";break;case se.END:A="max";break;case se.PAGE_UP:A=2;break;case se.PAGE_DOWN:A=-2;break;case se.BACKSPACE:case se.DELETE:i(o);break}A!==null&&(q.preventDefault(),g(A,o))}},le=function(q){switch(q.which||q.keyCode){case se.LEFT:case se.RIGHT:case se.UP:case se.DOWN:case se.HOME:case se.END:case se.PAGE_UP:case se.PAGE_DOWN:C==null||C();break}},we=kt(y,r,v,h),be={};if(o!==null){var de;be={tabIndex:x?null:qe(j,o),role:"slider","aria-valuemin":v,"aria-valuemax":h,"aria-valuenow":r,"aria-disabled":x,"aria-label":qe(z,o),"aria-labelledby":qe(N,o),"aria-required":qe(w,o),"aria-valuetext":(de=qe(R,o))===null||de===void 0?void 0:de(r),"aria-orientation":y==="ltr"||y==="rtl"?"horizontal":"vertical",onMouseDown:O,onTouchStart:O,onFocus:K,onMouseEnter:W,onKeyDown:me,onKeyUp:le}}var Me=d.createElement("div",Dt({ref:n,className:Pe(F,Ne(Ne(Ne({},"".concat(F,"-").concat(o+1),o!==null&&M),"".concat(F,"-dragging"),c),"".concat(F,"-dragging-delete"),u),k.handle),style:pe(pe(pe({},we),s),P.handle)},be,p));return f&&(Me=f(Me,{index:o,prefixCls:e,value:r,dragging:c,draggingDelete:u})),Me}),Jr=["prefixCls","style","onStartMove","onOffsetChange","values","handleRender","activeHandleRender","draggingIndex","draggingDelete","onFocus"],Qr=d.forwardRef(function(t,n){var e=t.prefixCls,r=t.style,o=t.onStartMove,a=t.onOffsetChange,i=t.values,s=t.handleRender,f=t.activeHandleRender,c=t.draggingIndex,u=t.draggingDelete,g=t.onFocus,C=dr(t,Jr),b=d.useRef({}),m=d.useState(!1),p=xe(m,2),l=p[0],v=p[1],h=d.useState(-1),y=xe(h,2),x=y[0],E=y[1],M=function(R){E(R),v(!0)},j=function(R,P){M(P),g==null||g(R)},z=function(R,P){M(P)};d.useImperativeHandle(n,function(){return{focus:function(R){var P;(P=b.current[R])===null||P===void 0||P.focus()},hideHelp:function(){kr.flushSync(function(){v(!1)})}}});var N=pe({prefixCls:e,onStartMove:o,onOffsetChange:a,render:s,onFocus:j,onMouseEnter:z},C);return d.createElement(d.Fragment,null,i.map(function(w,R){var P=c===R;return d.createElement(Vt,Dt({ref:function(F){F?b.current[R]=F:delete b.current[R]},dragging:P,draggingDelete:P&&u,style:qe(r,R),key:R,value:w,valueIndex:R},N))}),f&&l&&d.createElement(Vt,Dt({key:"a11y"},N,{value:i[x],valueIndex:null,dragging:c!==-1,draggingDelete:u,render:f,style:{pointerEvents:"none"},tabIndex:null,"aria-hidden":!0})))}),en=function(n){var e=n.prefixCls,r=n.style,o=n.children,a=n.value,i=n.onClick,s=d.useContext(Ue),f=s.min,c=s.max,u=s.direction,g=s.includedStart,C=s.includedEnd,b=s.included,m="".concat(e,"-text"),p=kt(u,a,f,c);return d.createElement("span",{className:Pe(m,Ne({},"".concat(m,"-active"),b&&g<=a&&a<=C)),style:pe(pe({},p),r),onMouseDown:function(v){v.stopPropagation()},onClick:function(){i(a)}},o)},tn=function(n){var e=n.prefixCls,r=n.marks,o=n.onClick,a="".concat(e,"-mark");return r.length?d.createElement("div",{className:a},r.map(function(i){var s=i.value,f=i.style,c=i.label;return d.createElement(en,{key:s,prefixCls:a,style:f,value:s,onClick:o},c)})):null},rn=function(n){var e=n.prefixCls,r=n.value,o=n.style,a=n.activeStyle,i=d.useContext(Ue),s=i.min,f=i.max,c=i.direction,u=i.included,g=i.includedStart,C=i.includedEnd,b="".concat(e,"-dot"),m=u&&g<=r&&r<=C,p=pe(pe({},kt(c,r,s,f)),typeof o=="function"?o(r):o);return m&&(p=pe(pe({},p),typeof a=="function"?a(r):a)),d.createElement("span",{className:Pe(b,Ne({},"".concat(b,"-active"),m)),style:p})},nn=function(n){var e=n.prefixCls,r=n.marks,o=n.dots,a=n.style,i=n.activeStyle,s=d.useContext(Ue),f=s.min,c=s.max,u=s.step,g=d.useMemo(function(){var C=new Set;if(r.forEach(function(m){C.add(m.value)}),o&&u!==null)for(var b=f;b<=c;)C.add(b),b+=u;return Array.from(C)},[f,c,u,o,r]);return d.createElement("div",{className:"".concat(e,"-step")},g.map(function(C){return d.createElement(rn,{prefixCls:e,key:C,value:C,style:a,activeStyle:i})}))},Kt=function(n){var e=n.prefixCls,r=n.style,o=n.start,a=n.end,i=n.index,s=n.onStartMove,f=n.replaceCls,c=d.useContext(Ue),u=c.direction,g=c.min,C=c.max,b=c.disabled,m=c.range,p=c.classNames,l="".concat(e,"-track"),v=_t(o,g,C),h=_t(a,g,C),y=function(j){!b&&s&&s(j,-1)},x={};switch(u){case"rtl":x.right="".concat(v*100,"%"),x.width="".concat(h*100-v*100,"%");break;case"btt":x.bottom="".concat(v*100,"%"),x.height="".concat(h*100-v*100,"%");break;case"ttb":x.top="".concat(v*100,"%"),x.height="".concat(h*100-v*100,"%");break;default:x.left="".concat(v*100,"%"),x.width="".concat(h*100-v*100,"%")}var E=f||Pe(l,Ne(Ne({},"".concat(l,"-").concat(i+1),i!==null&&m),"".concat(e,"-track-draggable"),s),p.track);return d.createElement("div",{className:E,style:pe(pe({},x),r),onMouseDown:y,onTouchStart:y})},on=function(n){var e=n.prefixCls,r=n.style,o=n.values,a=n.startPoint,i=n.onStartMove,s=d.useContext(Ue),f=s.included,c=s.range,u=s.min,g=s.styles,C=s.classNames,b=d.useMemo(function(){if(!c){if(o.length===0)return[];var p=a??u,l=o[0];return[{start:Math.min(p,l),end:Math.max(p,l)}]}for(var v=[],h=0;h<o.length-1;h+=1)v.push({start:o[h],end:o[h+1]});return v},[o,c,a,u]);if(!f)return null;var m=b!=null&&b.length&&(C.tracks||g.tracks)?d.createElement(Kt,{index:null,prefixCls:e,start:b[0].start,end:b[b.length-1].end,replaceCls:Pe(C.tracks,"".concat(e,"-tracks")),style:g.tracks}):null;return d.createElement(d.Fragment,null,m,b.map(function(p,l){var v=p.start,h=p.end;return d.createElement(Kt,{index:l,prefixCls:e,style:pe(pe({},qe(r,l)),g.track),start:v,end:h,key:l,onStartMove:i})}))},an=130;function Jt(t){var n="targetTouches"in t?t.targetTouches[0]:t;return{pageX:n.pageX,pageY:n.pageY}}function sn(t,n,e,r,o,a,i,s,f,c,u){var g=d.useState(null),C=xe(g,2),b=C[0],m=C[1],p=d.useState(-1),l=xe(p,2),v=l[0],h=l[1],y=d.useState(!1),x=xe(y,2),E=x[0],M=x[1],j=d.useState(e),z=xe(j,2),N=z[0],w=z[1],R=d.useState(e),P=xe(R,2),k=P[0],F=P[1],O=d.useRef(null),K=d.useRef(null),W=d.useRef(null),me=d.useContext(Vr),le=me.onDragStart,we=me.onDragChange;Or(function(){v===-1&&w(e)},[e,v]),d.useEffect(function(){return function(){document.removeEventListener("mousemove",O.current),document.removeEventListener("mouseup",K.current),W.current&&(W.current.removeEventListener("touchmove",O.current),W.current.removeEventListener("touchend",K.current))}},[]);var be=function(A,$,T){$!==void 0&&m($),w(A);var I=A;T&&(I=A.filter(function(_,Y){return Y!==v})),i(I),we&&we({rawValues:A,deleteIndex:T?v:-1,draggingIndex:v,draggingValue:$})},de=lt(function(q,A,$){if(q===-1){var T=k[0],I=k[k.length-1],_=r-T,Y=o-I,U=A*(o-r);U=Math.max(U,_),U=Math.min(U,Y);var B=a(T+U);U=B-T;var Z=k.map(function(re){return re+U});be(Z)}else{var Q=(o-r)*A,ee=Fe(N);ee[q]=k[q];var te=f(ee,Q,q,"dist");be(te.values,te.value,$)}}),Me=function(A,$,T){A.stopPropagation();var I=T||e,_=I[$];h($),m(_),F(I),w(I),M(!1);var Y=Jt(A),U=Y.pageX,B=Y.pageY,Z=!1;le&&le({rawValues:I,draggingIndex:$,draggingValue:_});var Q=function(re){re.preventDefault();var ne=Jt(re),ye=ne.pageX,ue=ne.pageY,J=ye-U,X=ue-B,H=t.current.getBoundingClientRect(),ae=H.width,Ee=H.height,Se,fe;switch(n){case"btt":Se=-X/Ee,fe=J;break;case"ttb":Se=X/Ee,fe=J;break;case"rtl":Se=-J/ae,fe=X;break;default:Se=J/ae,fe=X}Z=c?Math.abs(fe)>an&&u<N.length:!1,M(Z),de($,Se,Z)},ee=function te(re){re.preventDefault(),document.removeEventListener("mouseup",te),document.removeEventListener("mousemove",Q),W.current&&(W.current.removeEventListener("touchmove",O.current),W.current.removeEventListener("touchend",K.current)),O.current=null,K.current=null,W.current=null,s(Z),h(-1),M(!1)};document.addEventListener("mouseup",ee),document.addEventListener("mousemove",Q),A.currentTarget.addEventListener("touchend",ee),A.currentTarget.addEventListener("touchmove",Q),O.current=Q,K.current=ee,W.current=A.currentTarget},oe=d.useMemo(function(){var q=Fe(e).sort(function(_,Y){return _-Y}),A=Fe(N).sort(function(_,Y){return _-Y}),$={};A.forEach(function(_){$[_]=($[_]||0)+1}),q.forEach(function(_){$[_]=($[_]||0)-1});var T=c?1:0,I=Object.values($).reduce(function(_,Y){return _+Math.abs(Y)},0);return I<=T?N:e},[e,N,c]);return[v,b,E,oe,Me]}function cn(t,n,e,r,o,a){var i=d.useCallback(function(b){return Math.max(t,Math.min(n,b))},[t,n]),s=d.useCallback(function(b){if(e!==null){var m=t+Math.round((i(b)-t)/e)*e,p=function(y){return(String(y).split(".")[1]||"").length},l=Math.max(p(e),p(n),p(t)),v=Number(m.toFixed(l));return t<=v&&v<=n?v:null}return null},[e,t,n,i]),f=d.useCallback(function(b){var m=i(b),p=r.map(function(h){return h.value});e!==null&&p.push(s(b)),p.push(t,n);var l=p[0],v=n-t;return p.forEach(function(h){var y=Math.abs(m-h);y<=v&&(l=h,v=y)}),l},[t,n,r,e,i,s]),c=function b(m,p,l){var v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit";if(typeof p=="number"){var h,y=m[l],x=y+p,E=[];r.forEach(function(w){E.push(w.value)}),E.push(t,n),E.push(s(y));var M=p>0?1:-1;v==="unit"?E.push(s(y+M*e)):E.push(s(x)),E=E.filter(function(w){return w!==null}).filter(function(w){return p<0?w<=y:w>=y}),v==="unit"&&(E=E.filter(function(w){return w!==y}));var j=v==="unit"?y:x;h=E[0];var z=Math.abs(h-j);if(E.forEach(function(w){var R=Math.abs(w-j);R<z&&(h=w,z=R)}),h===void 0)return p<0?t:n;if(v==="dist")return h;if(Math.abs(p)>1){var N=Fe(m);return N[l]=h,b(N,p-M,l,v)}return h}else{if(p==="min")return t;if(p==="max")return n}},u=function(m,p,l){var v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",h=m[l],y=c(m,p,l,v);return{value:y,changed:y!==h}},g=function(m){return a===null&&m===0||typeof a=="number"&&m<a},C=function(m,p,l){var v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",h=m.map(f),y=h[l],x=c(h,p,l,v);if(h[l]=x,o===!1){var E=a||0;l>0&&h[l-1]!==y&&(h[l]=Math.max(h[l],h[l-1]+E)),l<h.length-1&&h[l+1]!==y&&(h[l]=Math.min(h[l],h[l+1]-E))}else if(typeof a=="number"||a===null){for(var M=l+1;M<h.length;M+=1)for(var j=!0;g(h[M]-h[M-1])&&j;){var z=u(h,1,M);h[M]=z.value,j=z.changed}for(var N=l;N>0;N-=1)for(var w=!0;g(h[N]-h[N-1])&&w;){var R=u(h,-1,N-1);h[N-1]=R.value,w=R.changed}for(var P=h.length-1;P>0;P-=1)for(var k=!0;g(h[P]-h[P-1])&&k;){var F=u(h,-1,P-1);h[P-1]=F.value,k=F.changed}for(var O=0;O<h.length-1;O+=1)for(var K=!0;g(h[O+1]-h[O])&&K;){var W=u(h,1,O+1);h[O+1]=W.value,K=W.changed}}return{value:h[l],values:h}};return[f,C]}function ln(t){return d.useMemo(function(){if(t===!0||!t)return[!!t,!1,!1,0];var n=t.editable,e=t.draggableTrack,r=t.minCount,o=t.maxCount;return[!0,n,!n&&e,r||0,o]},[t])}var un=d.forwardRef(function(t,n){var e=t.prefixCls,r=e===void 0?"rc-slider":e,o=t.className,a=t.style,i=t.classNames,s=t.styles,f=t.id,c=t.disabled,u=c===void 0?!1:c,g=t.keyboard,C=g===void 0?!0:g,b=t.autoFocus,m=t.onFocus,p=t.onBlur,l=t.min,v=l===void 0?0:l,h=t.max,y=h===void 0?100:h,x=t.step,E=x===void 0?1:x,M=t.value,j=t.defaultValue,z=t.range,N=t.count,w=t.onChange,R=t.onBeforeChange,P=t.onAfterChange,k=t.onChangeComplete,F=t.allowCross,O=F===void 0?!0:F,K=t.pushable,W=K===void 0?!1:K,me=t.reverse,le=t.vertical,we=t.included,be=we===void 0?!0:we,de=t.startPoint,Me=t.trackStyle,oe=t.handleStyle,q=t.railStyle,A=t.dotStyle,$=t.activeDotStyle,T=t.marks,I=t.dots,_=t.handleRender,Y=t.activeHandleRender,U=t.track,B=t.tabIndex,Z=B===void 0?0:B,Q=t.ariaLabelForHandle,ee=t.ariaLabelledByForHandle,te=t.ariaRequired,re=t.ariaValueTextFormatterForHandle,ne=d.useRef(null),ye=d.useRef(null),ue=d.useMemo(function(){return le?me?"ttb":"btt":me?"rtl":"ltr"},[me,le]),J=ln(z),X=xe(J,5),H=X[0],ae=X[1],Ee=X[2],Se=X[3],fe=X[4],Ce=d.useMemo(function(){return isFinite(v)?v:0},[v]),Oe=d.useMemo(function(){return isFinite(y)?y:100},[y]),$e=d.useMemo(function(){return E!==null&&E<=0?1:E},[E]),he=d.useMemo(function(){return typeof W=="boolean"?W?$e:!1:W>=0?W:!1},[W,$e]),ve=d.useMemo(function(){return Object.keys(T||{}).map(function(L){var D=T[L],G={value:Number(L)};return D&&$r(D)==="object"&&!d.isValidElement(D)&&("label"in D||"style"in D)?(G.style=D.style,G.label=D.label):G.label=D,G}).filter(function(L){var D=L.label;return D||typeof D=="number"}).sort(function(L,D){return L.value-D.value})},[T]),vt=cn(Ce,Oe,$e,ve,O,he),Ve=xe(vt,2),Ie=Ve[0],Ke=Ve[1],Je=jr(j,{value:M}),Ot=xe(Je,2),Be=Ot[0],Cr=Ot[1],ge=d.useMemo(function(){var L=Be==null?[]:Array.isArray(Be)?Be:[Be],D=xe(L,1),G=D[0],V=G===void 0?Ce:G,ie=Be===null?[]:[V];if(H){if(ie=Fe(L),N||Be===void 0){var Le=N>=0?N+1:2;for(ie=ie.slice(0,Le);ie.length<Le;){var je;ie.push((je=ie[ie.length-1])!==null&&je!==void 0?je:Ce)}}ie.sort(function(Te,Ae){return Te-Ae})}return ie.forEach(function(Te,Ae){ie[Ae]=Ie(Te)}),ie},[Be,H,Ce,N,Ie]),Ze=function(D){return H?D:D[0]},at=lt(function(L){var D=Fe(L).sort(function(G,V){return G-V});w&&!Tr(D,ge,!0)&&w(Ze(D)),Cr(D)}),$t=lt(function(L){L&&ne.current.hideHelp();var D=Ze(ge);P==null||P(D),Ut(!P,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),k==null||k(D)}),xr=function(D){if(!(u||!ae||ge.length<=Se)){var G=Fe(ge);G.splice(D,1),R==null||R(Ze(G)),at(G);var V=Math.max(0,D-1);ne.current.hideHelp(),ne.current.focus(V)}},wr=sn(ye,ue,ge,Ce,Oe,Ie,at,$t,Ke,ae,Se),Qe=xe(wr,5),jt=Qe[0],Sr=Qe[1],Rr=Qe[2],gt=Qe[3],Tt=Qe[4],At=function(D,G){if(!u){var V=Fe(ge),ie=0,Le=0,je=Oe-Ce;ge.forEach(function(He,it){var qt=Math.abs(D-He);qt<=je&&(je=qt,ie=it),He<D&&(Le=it)});var Te=ie;ae&&je!==0&&(!fe||ge.length<fe)?(V.splice(Le+1,0,D),Te=Le+1):V[ie]=D,H&&!ge.length&&N===void 0&&V.push(D);var Ae=Ze(V);if(R==null||R(Ae),at(V),G){var We,Xe;(We=document.activeElement)===null||We===void 0||(Xe=We.blur)===null||Xe===void 0||Xe.call(We),ne.current.focus(Te),Tt(G,Te,V)}else P==null||P(Ae),Ut(!P,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),k==null||k(Ae)}},Er=function(D){D.preventDefault();var G=ye.current.getBoundingClientRect(),V=G.width,ie=G.height,Le=G.left,je=G.top,Te=G.bottom,Ae=G.right,We=D.clientX,Xe=D.clientY,He;switch(ue){case"btt":He=(Te-Xe)/ie;break;case"ttb":He=(Xe-je)/ie;break;case"rtl":He=(Ae-We)/V;break;default:He=(We-Le)/V}var it=Ce+He*(Oe-Ce);At(Ie(it),D)},Pr=d.useState(null),zt=xe(Pr,2),bt=zt[0],Ft=zt[1],Mr=function(D,G){if(!u){var V=Ke(ge,D,G);R==null||R(Ze(ge)),at(V.values),Ft(V.value)}};d.useEffect(function(){if(bt!==null){var L=ge.indexOf(bt);L>=0&&ne.current.focus(L)}Ft(null)},[bt]);var Dr=d.useMemo(function(){return Ee&&$e===null?!1:Ee},[Ee,$e]),It=lt(function(L,D){Tt(L,D),R==null||R(Ze(ge))}),Bt=jt!==-1;d.useEffect(function(){if(!Bt){var L=ge.lastIndexOf(Sr);ne.current.focus(L)}},[Bt]);var et=d.useMemo(function(){return Fe(gt).sort(function(L,D){return L-D})},[gt]),_r=d.useMemo(function(){return H?[et[0],et[et.length-1]]:[Ce,et[0]]},[et,H,Ce]),Lt=xe(_r,2),Ht=Lt[0],Wt=Lt[1];d.useImperativeHandle(n,function(){return{focus:function(){ne.current.focus(0)},blur:function(){var D,G=document,V=G.activeElement;(D=ye.current)!==null&&D!==void 0&&D.contains(V)&&(V==null||V.blur())}}}),d.useEffect(function(){b&&ne.current.focus(0)},[]);var Nr=d.useMemo(function(){return{min:Ce,max:Oe,direction:ue,disabled:u,keyboard:C,step:$e,included:be,includedStart:Ht,includedEnd:Wt,range:H,tabIndex:Z,ariaLabelForHandle:Q,ariaLabelledByForHandle:ee,ariaRequired:te,ariaValueTextFormatterForHandle:re,styles:s||{},classNames:i||{}}},[Ce,Oe,ue,u,C,$e,be,Ht,Wt,H,Z,Q,ee,te,re,s,i]);return d.createElement(Ue.Provider,{value:Nr},d.createElement("div",{ref:ye,className:Pe(r,o,Ne(Ne(Ne(Ne({},"".concat(r,"-disabled"),u),"".concat(r,"-vertical"),le),"".concat(r,"-horizontal"),!le),"".concat(r,"-with-marks"),ve.length)),style:a,onMouseDown:Er,id:f},d.createElement("div",{className:Pe("".concat(r,"-rail"),i==null?void 0:i.rail),style:pe(pe({},q),s==null?void 0:s.rail)}),U!==!1&&d.createElement(on,{prefixCls:r,style:Me,values:ge,startPoint:de,onStartMove:Dr?It:void 0}),d.createElement(nn,{prefixCls:r,marks:ve,dots:I,style:A,activeStyle:$}),d.createElement(Qr,{ref:ne,prefixCls:r,style:oe,values:gt,draggingIndex:jt,draggingDelete:Rr,onStartMove:It,onOffsetChange:Mr,onFocus:m,onBlur:p,handleRender:_,activeHandleRender:Y,onChangeComplete:$t,onDelete:ae?xr:void 0}),d.createElement(tn,{prefixCls:r,marks:ve,onClick:At})))});const dn=d.createContext({}),Qt=d.forwardRef((t,n)=>{const{open:e,draggingDelete:r}=t,o=d.useRef(null),a=e&&!r,i=d.useRef(null);function s(){ot.cancel(i.current),i.current=null}function f(){i.current=ot(()=>{var c;(c=o.current)===null||c===void 0||c.forceAlign(),i.current=null})}return d.useEffect(()=>(a?f():s(),s),[a,t.title]),d.createElement(Xr,Object.assign({ref:Ar(o,n)},t,{open:a}))}),fn=t=>{const{componentCls:n,antCls:e,controlSize:r,dotSize:o,marginFull:a,marginPart:i,colorFillContentHover:s,handleColorDisabled:f,calc:c,handleSize:u,handleSizeHover:g,handleActiveColor:C,handleActiveOutlineColor:b,handleLineWidth:m,handleLineWidthHover:p,motionDurationMid:l}=t;return{[n]:Object.assign(Object.assign({},Ir(t)),{position:"relative",height:r,margin:`${Re(i)} ${Re(a)}`,padding:0,cursor:"pointer",touchAction:"none","&-vertical":{margin:`${Re(a)} ${Re(i)}`},[`${n}-rail`]:{position:"absolute",backgroundColor:t.railBg,borderRadius:t.borderRadiusXS,transition:`background-color ${l}`},[`${n}-track,${n}-tracks`]:{position:"absolute",transition:`background-color ${l}`},[`${n}-track`]:{backgroundColor:t.trackBg,borderRadius:t.borderRadiusXS},[`${n}-track-draggable`]:{boxSizing:"content-box",backgroundClip:"content-box",border:"solid rgba(0,0,0,0)"},"&:hover":{[`${n}-rail`]:{backgroundColor:t.railHoverBg},[`${n}-track`]:{backgroundColor:t.trackHoverBg},[`${n}-dot`]:{borderColor:s},[`${n}-handle::after`]:{boxShadow:`0 0 0 ${Re(m)} ${t.colorPrimaryBorderHover}`},[`${n}-dot-active`]:{borderColor:t.dotActiveBorderColor}},[`${n}-handle`]:{position:"absolute",width:u,height:u,outline:"none",userSelect:"none","&-dragging-delete":{opacity:0},"&::before":{content:'""',position:"absolute",insetInlineStart:c(m).mul(-1).equal(),insetBlockStart:c(m).mul(-1).equal(),width:c(u).add(c(m).mul(2)).equal(),height:c(u).add(c(m).mul(2)).equal(),backgroundColor:"transparent"},"&::after":{content:'""',position:"absolute",insetBlockStart:0,insetInlineStart:0,width:u,height:u,backgroundColor:t.colorBgElevated,boxShadow:`0 0 0 ${Re(m)} ${t.handleColor}`,outline:"0px solid transparent",borderRadius:"50%",cursor:"pointer",transition:`
            inset-inline-start ${l},
            inset-block-start ${l},
            width ${l},
            height ${l},
            box-shadow ${l},
            outline ${l}
          `},"&:hover, &:active, &:focus":{"&::before":{insetInlineStart:c(g).sub(u).div(2).add(p).mul(-1).equal(),insetBlockStart:c(g).sub(u).div(2).add(p).mul(-1).equal(),width:c(g).add(c(p).mul(2)).equal(),height:c(g).add(c(p).mul(2)).equal()},"&::after":{boxShadow:`0 0 0 ${Re(p)} ${C}`,outline:`6px solid ${b}`,width:g,height:g,insetInlineStart:t.calc(u).sub(g).div(2).equal(),insetBlockStart:t.calc(u).sub(g).div(2).equal()}}},[`&-lock ${n}-handle`]:{"&::before, &::after":{transition:"none"}},[`${n}-mark`]:{position:"absolute",fontSize:t.fontSize},[`${n}-mark-text`]:{position:"absolute",display:"inline-block",color:t.colorTextDescription,textAlign:"center",wordBreak:"keep-all",cursor:"pointer",userSelect:"none","&-active":{color:t.colorText}},[`${n}-step`]:{position:"absolute",background:"transparent",pointerEvents:"none"},[`${n}-dot`]:{position:"absolute",width:o,height:o,backgroundColor:t.colorBgElevated,border:`${Re(m)} solid ${t.dotBorderColor}`,borderRadius:"50%",cursor:"pointer",transition:`border-color ${t.motionDurationSlow}`,pointerEvents:"auto","&-active":{borderColor:t.dotActiveBorderColor}},[`&${n}-disabled`]:{cursor:"not-allowed",[`${n}-rail`]:{backgroundColor:`${t.railBg} !important`},[`${n}-track`]:{backgroundColor:`${t.trackBgDisabled} !important`},[`
          ${n}-dot
        `]:{backgroundColor:t.colorBgElevated,borderColor:t.trackBgDisabled,boxShadow:"none",cursor:"not-allowed"},[`${n}-handle::after`]:{backgroundColor:t.colorBgElevated,cursor:"not-allowed",width:u,height:u,boxShadow:`0 0 0 ${Re(m)} ${f}`,insetInlineStart:0,insetBlockStart:0},[`
          ${n}-mark-text,
          ${n}-dot
        `]:{cursor:"not-allowed !important"}},[`&-tooltip ${e}-tooltip-inner`]:{minWidth:"unset"}})}},yr=(t,n)=>{const{componentCls:e,railSize:r,handleSize:o,dotSize:a,marginFull:i,calc:s}=t,f=n?"paddingBlock":"paddingInline",c=n?"width":"height",u=n?"height":"width",g=n?"insetBlockStart":"insetInlineStart",C=n?"top":"insetInlineStart",b=s(r).mul(3).sub(o).div(2).equal(),m=s(o).sub(r).div(2).equal(),p=n?{borderWidth:`${Re(m)} 0`,transform:`translateY(${Re(s(m).mul(-1).equal())})`}:{borderWidth:`0 ${Re(m)}`,transform:`translateX(${Re(t.calc(m).mul(-1).equal())})`};return{[f]:r,[u]:s(r).mul(3).equal(),[`${e}-rail`]:{[c]:"100%",[u]:r},[`${e}-track,${e}-tracks`]:{[u]:r},[`${e}-track-draggable`]:Object.assign({},p),[`${e}-handle`]:{[g]:b},[`${e}-mark`]:{insetInlineStart:0,top:0,[C]:s(r).mul(3).add(n?0:i).equal(),[c]:"100%"},[`${e}-step`]:{insetInlineStart:0,top:0,[C]:r,[c]:"100%",[u]:r},[`${e}-dot`]:{position:"absolute",[g]:s(r).sub(a).div(2).equal()}}},hn=t=>{const{componentCls:n,marginPartWithMark:e}=t;return{[`${n}-horizontal`]:Object.assign(Object.assign({},yr(t,!0)),{[`&${n}-with-marks`]:{marginBottom:e}})}},pn=t=>{const{componentCls:n}=t;return{[`${n}-vertical`]:Object.assign(Object.assign({},yr(t,!1)),{height:"100%"})}},mn=t=>{const e=t.controlHeightLG/4,r=t.controlHeightSM/2,o=t.lineWidth+1,a=t.lineWidth+1*1.5,i=t.colorPrimary,s=new Zt(i).setA(.2).toRgbString();return{controlSize:e,railSize:4,handleSize:e,handleSizeHover:r,dotSize:8,handleLineWidth:o,handleLineWidthHover:a,railBg:t.colorFillTertiary,railHoverBg:t.colorFillSecondary,trackBg:t.colorPrimaryBorder,trackHoverBg:t.colorPrimaryBorderHover,handleColor:t.colorPrimaryBorder,handleActiveColor:i,handleActiveOutlineColor:s,handleColorDisabled:new Zt(t.colorTextDisabled).onBackground(t.colorBgContainer).toHexString(),dotBorderColor:t.colorBorderSecondary,dotActiveBorderColor:t.colorPrimaryBorder,trackBgDisabled:t.colorBgContainerDisabled}},vn=zr("Slider",t=>{const n=Fr(t,{marginPart:t.calc(t.controlHeight).sub(t.controlSize).div(2).equal(),marginFull:t.calc(t.controlSize).div(2).equal(),marginPartWithMark:t.calc(t.controlHeightLG).sub(t.controlSize).equal()});return[fn(n),hn(n),pn(n)]},mn);function yt(){const[t,n]=d.useState(!1),e=d.useRef(null),r=()=>{ot.cancel(e.current)},o=a=>{r(),a?n(a):e.current=ot(()=>{n(a)})};return d.useEffect(()=>r,[]),[t,o]}var gn=function(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(e[r[o]]=t[r[o]]);return e};function bn(t,n){return t||t===null?t:n||n===null?n:e=>typeof e=="number"?e.toString():""}const Ct=ze.forwardRef((t,n)=>{const{prefixCls:e,range:r,className:o,rootClassName:a,style:i,disabled:s,tooltipPrefixCls:f,tipFormatter:c,tooltipVisible:u,getTooltipPopupContainer:g,tooltipPlacement:C,tooltip:b={},onChangeComplete:m,classNames:p,styles:l}=t,v=gn(t,["prefixCls","range","className","rootClassName","style","disabled","tooltipPrefixCls","tipFormatter","tooltipVisible","getTooltipPopupContainer","tooltipPlacement","tooltip","onChangeComplete","classNames","styles"]),{vertical:h}=t,{getPrefixCls:y,direction:x,className:E,style:M,classNames:j,styles:z,getPopupContainer:N}=Br("slider"),w=ze.useContext(Lr),R=s??w,{handleRender:P,direction:k}=ze.useContext(dn),O=(k||x)==="rtl",[K,W]=yt(),[me,le]=yt(),we=Object.assign({},b),{open:be,placement:de,getPopupContainer:Me,prefixCls:oe,formatter:q}=we,A=be??u,$=(K||me)&&A!==!1,T=bn(q,c),[I,_]=yt(),Y=H=>{m==null||m(H),_(!1)},U=(H,ae)=>H||(ae?O?"left":"right":"top"),B=y("slider",e),[Z,Q,ee]=vn(B),te=Pe(o,E,j.root,p==null?void 0:p.root,a,{[`${B}-rtl`]:O,[`${B}-lock`]:I},Q,ee);O&&!v.vertical&&(v.reverse=!v.reverse),ze.useEffect(()=>{const H=()=>{ot(()=>{le(!1)},1)};return document.addEventListener("mouseup",H),()=>{document.removeEventListener("mouseup",H)}},[]);const re=r&&!A,ne=P||((H,ae)=>{const{index:Ee}=ae,Se=H.props;function fe(he,ve,vt){var Ve,Ie,Ke,Je;vt&&((Ie=(Ve=v)[he])===null||Ie===void 0||Ie.call(Ve,ve)),(Je=(Ke=Se)[he])===null||Je===void 0||Je.call(Ke,ve)}const Ce=Object.assign(Object.assign({},Se),{onMouseEnter:he=>{W(!0),fe("onMouseEnter",he)},onMouseLeave:he=>{W(!1),fe("onMouseLeave",he)},onMouseDown:he=>{le(!0),_(!0),fe("onMouseDown",he)},onFocus:he=>{var ve;le(!0),(ve=v.onFocus)===null||ve===void 0||ve.call(v,he),fe("onFocus",he,!0)},onBlur:he=>{var ve;le(!1),(ve=v.onBlur)===null||ve===void 0||ve.call(v,he),fe("onBlur",he,!0)}}),Oe=ze.cloneElement(H,Ce),$e=(!!A||$)&&T!==null;return re?Oe:ze.createElement(Qt,Object.assign({},we,{prefixCls:y("tooltip",oe??f),title:T?T(ae.value):"",open:$e,placement:U(de??C,h),key:Ee,classNames:{root:`${B}-tooltip`},getPopupContainer:Me||g||N}),Oe)}),ye=re?(H,ae)=>{const Ee=ze.cloneElement(H,{style:Object.assign(Object.assign({},H.props.style),{visibility:"hidden"})});return ze.createElement(Qt,Object.assign({},we,{prefixCls:y("tooltip",oe??f),title:T?T(ae.value):"",open:T!==null&&$,placement:U(de??C,h),key:"tooltip",classNames:{root:`${B}-tooltip`},getPopupContainer:Me||g||N,draggingDelete:ae.draggingDelete}),Ee)}:void 0,ue=Object.assign(Object.assign(Object.assign(Object.assign({},z.root),M),l==null?void 0:l.root),i),J=Object.assign(Object.assign({},z.tracks),l==null?void 0:l.tracks),X=Pe(j.tracks,p==null?void 0:p.tracks);return Z(ze.createElement(un,Object.assign({},v,{classNames:Object.assign({handle:Pe(j.handle,p==null?void 0:p.handle),rail:Pe(j.rail,p==null?void 0:p.rail),track:Pe(j.track,p==null?void 0:p.track)},X?{tracks:X}:{}),styles:Object.assign({handle:Object.assign(Object.assign({},z.handle),l==null?void 0:l.handle),rail:Object.assign(Object.assign({},z.rail),l==null?void 0:l.rail),track:Object.assign(Object.assign({},z.track),l==null?void 0:l.track)},Object.keys(J).length?{tracks:J}:{}),step:v.step,range:r,className:te,style:ue,disabled:R,ref:n,prefixCls:B,handleRender:ne,activeHandleRender:ye,onChangeComplete:Y})))});var Nt=function(t,n){return Nt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},Nt(t,n)};function yn(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");Nt(t,n);function e(){this.constructor=t}t.prototype=n===null?Object.create(n):(e.prototype=n.prototype,new e)}var ce=function(){return ce=Object.assign||function(n){for(var e,r=1,o=arguments.length;r<o;r++){e=arguments[r];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a])}return n},ce.apply(this,arguments)};function Cn(t,n){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&n.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(e[r[o]]=t[r[o]]);return e}function st(t,n,e,r){function o(a){return a instanceof e?a:new e(function(i){i(a)})}return new(e||(e=Promise))(function(a,i){function s(u){try{c(r.next(u))}catch(g){i(g)}}function f(u){try{c(r.throw(u))}catch(g){i(g)}}function c(u){u.done?a(u.value):o(u.value).then(s,f)}c((r=r.apply(t,n||[])).next())})}var xt,er;function xn(){if(er)return xt;er=1;var t=!1,n,e,r,o,a,i,s,f,c,u,g,C,b,m,p;function l(){if(!t){t=!0;var h=navigator.userAgent,y=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(h),x=/(Mac OS X)|(Windows)|(Linux)/.exec(h);if(C=/\b(iPhone|iP[ao]d)/.exec(h),b=/\b(iP[ao]d)/.exec(h),u=/Android/i.exec(h),m=/FBAN\/\w+;/i.exec(h),p=/Mobile/i.exec(h),g=!!/Win64/.exec(h),y){n=y[1]?parseFloat(y[1]):y[5]?parseFloat(y[5]):NaN,n&&document&&document.documentMode&&(n=document.documentMode);var E=/(?:Trident\/(\d+.\d+))/.exec(h);i=E?parseFloat(E[1])+4:n,e=y[2]?parseFloat(y[2]):NaN,r=y[3]?parseFloat(y[3]):NaN,o=y[4]?parseFloat(y[4]):NaN,o?(y=/(?:Chrome\/(\d+\.\d+))/.exec(h),a=y&&y[1]?parseFloat(y[1]):NaN):a=NaN}else n=e=r=a=o=NaN;if(x){if(x[1]){var M=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(h);s=M?parseFloat(M[1].replace("_",".")):!0}else s=!1;f=!!x[2],c=!!x[3]}else s=f=c=!1}}var v={ie:function(){return l()||n},ieCompatibilityMode:function(){return l()||i>n},ie64:function(){return v.ie()&&g},firefox:function(){return l()||e},opera:function(){return l()||r},webkit:function(){return l()||o},safari:function(){return v.webkit()},chrome:function(){return l()||a},windows:function(){return l()||f},osx:function(){return l()||s},linux:function(){return l()||c},iphone:function(){return l()||C},mobile:function(){return l()||C||b||u||p},nativeApp:function(){return l()||m},android:function(){return l()||u},ipad:function(){return l()||b}};return xt=v,xt}var wt,tr;function wn(){if(tr)return wt;tr=1;var t=!!(typeof window<"u"&&window.document&&window.document.createElement),n={canUseDOM:t,canUseWorkers:typeof Worker<"u",canUseEventListeners:t&&!!(window.addEventListener||window.attachEvent),canUseViewport:t&&!!window.screen,isInWorker:!t};return wt=n,wt}var St,rr;function Sn(){if(rr)return St;rr=1;var t=wn(),n;t.canUseDOM&&(n=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function e(r,o){if(!t.canUseDOM||o&&!("addEventListener"in document))return!1;var a="on"+r,i=a in document;if(!i){var s=document.createElement("div");s.setAttribute(a,"return;"),i=typeof s[a]=="function"}return!i&&n&&r==="wheel"&&(i=document.implementation.hasFeature("Events.wheel","3.0")),i}return St=e,St}var Rt,nr;function Rn(){if(nr)return Rt;nr=1;var t=xn(),n=Sn(),e=10,r=40,o=800;function a(i){var s=0,f=0,c=0,u=0;return"detail"in i&&(f=i.detail),"wheelDelta"in i&&(f=-i.wheelDelta/120),"wheelDeltaY"in i&&(f=-i.wheelDeltaY/120),"wheelDeltaX"in i&&(s=-i.wheelDeltaX/120),"axis"in i&&i.axis===i.HORIZONTAL_AXIS&&(s=f,f=0),c=s*e,u=f*e,"deltaY"in i&&(u=i.deltaY),"deltaX"in i&&(c=i.deltaX),(c||u)&&i.deltaMode&&(i.deltaMode==1?(c*=r,u*=r):(c*=o,u*=o)),c&&!s&&(s=c<1?-1:1),u&&!f&&(f=u<1?-1:1),{spinX:s,spinY:f,pixelX:c,pixelY:u}}return a.getEventType=function(){return t.firefox()?"DOMMouseScroll":n("wheel")?"wheel":"mousewheel"},Rt=a,Rt}var Et,or;function En(){return or||(or=1,Et=Rn()),Et}var Pn=En();const Mn=Hr(Pn);function Dn(t,n,e,r,o,a){a===void 0&&(a=0);var i=Ye(t,n,a),s=i.width,f=i.height,c=Math.min(s,e),u=Math.min(f,r);return c>u*o?{width:u*o,height:u}:{width:c,height:c/o}}function _n(t){return t.width>t.height?t.width/t.naturalWidth:t.height/t.naturalHeight}function tt(t,n,e,r,o){o===void 0&&(o=0);var a=Ye(n.width,n.height,o),i=a.width,s=a.height;return{x:ar(t.x,i,e.width,r),y:ar(t.y,s,e.height,r)}}function ar(t,n,e,r){var o=n*r/2-e/2;return mt(t,-o,o)}function ir(t,n){return Math.sqrt(Math.pow(t.y-n.y,2)+Math.pow(t.x-n.x,2))}function sr(t,n){return Math.atan2(n.y-t.y,n.x-t.x)*180/Math.PI}function Nn(t,n,e,r,o,a,i){a===void 0&&(a=0),i===void 0&&(i=!0);var s=i?kn:On,f=Ye(n.width,n.height,a),c=Ye(n.naturalWidth,n.naturalHeight,a),u={x:s(100,((f.width-e.width/o)/2-t.x/o)/f.width*100),y:s(100,((f.height-e.height/o)/2-t.y/o)/f.height*100),width:s(100,e.width/f.width*100/o),height:s(100,e.height/f.height*100/o)},g=Math.round(s(c.width,u.width*c.width/100)),C=Math.round(s(c.height,u.height*c.height/100)),b=c.width>=c.height*r,m=b?{width:Math.round(C*r),height:C}:{width:g,height:Math.round(g/r)},p=ce(ce({},m),{x:Math.round(s(c.width-m.width,u.x*c.width/100)),y:Math.round(s(c.height-m.height,u.y*c.height/100))});return{croppedAreaPercentages:u,croppedAreaPixels:p}}function kn(t,n){return Math.min(t,Math.max(0,n))}function On(t,n){return n}function $n(t,n,e,r,o,a){var i=Ye(n.width,n.height,e),s=mt(r.width/i.width*(100/t.width),o,a),f={x:s*i.width/2-r.width/2-i.width*s*(t.x/100),y:s*i.height/2-r.height/2-i.height*s*(t.y/100)};return{crop:f,zoom:s}}function jn(t,n,e){var r=_n(n);return e.height>e.width?e.height/(t.height*r):e.width/(t.width*r)}function Tn(t,n,e,r,o,a){e===void 0&&(e=0);var i=Ye(n.naturalWidth,n.naturalHeight,e),s=mt(jn(t,n,r),o,a),f=r.height>r.width?r.height/t.height:r.width/t.width,c={x:((i.width-t.width)/2-t.x)*f,y:((i.height-t.height)/2-t.y)*f};return{crop:c,zoom:s}}function cr(t,n){return{x:(n.x+t.x)/2,y:(n.y+t.y)/2}}function An(t){return t*Math.PI/180}function Ye(t,n,e){var r=An(e);return{width:Math.abs(Math.cos(r)*t)+Math.abs(Math.sin(r)*n),height:Math.abs(Math.sin(r)*t)+Math.abs(Math.cos(r)*n)}}function mt(t,n,e){return Math.min(Math.max(t,n),e)}function ct(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return t.filter(function(e){return typeof e=="string"&&e.length>0}).join(" ").trim()}var zn=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,Fn=1,In=3,Bn=1,Ln=function(t){yn(n,t);function n(){var e=t!==null&&t.apply(this,arguments)||this;return e.cropperRef=d.createRef(),e.imageRef=d.createRef(),e.videoRef=d.createRef(),e.containerPosition={x:0,y:0},e.containerRef=null,e.styleRef=null,e.containerRect=null,e.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},e.dragStartPosition={x:0,y:0},e.dragStartCrop={x:0,y:0},e.gestureZoomStart=0,e.gestureRotationStart=0,e.isTouching=!1,e.lastPinchDistance=0,e.lastPinchRotation=0,e.rafDragTimeout=null,e.rafPinchTimeout=null,e.wheelTimer=null,e.currentDoc=typeof document<"u"?document:null,e.currentWindow=typeof window<"u"?window:null,e.resizeObserver=null,e.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},e.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!e.containerRef)){var r=!0;e.resizeObserver=new window.ResizeObserver(function(o){if(r){r=!1;return}e.computeSizes()}),e.resizeObserver.observe(e.containerRef)}},e.preventZoomSafari=function(r){return r.preventDefault()},e.cleanEvents=function(){e.currentDoc&&(e.currentDoc.removeEventListener("mousemove",e.onMouseMove),e.currentDoc.removeEventListener("mouseup",e.onDragStopped),e.currentDoc.removeEventListener("touchmove",e.onTouchMove),e.currentDoc.removeEventListener("touchend",e.onDragStopped),e.currentDoc.removeEventListener("gesturemove",e.onGestureMove),e.currentDoc.removeEventListener("gestureend",e.onGestureEnd),e.currentDoc.removeEventListener("scroll",e.onScroll))},e.clearScrollEvent=function(){e.containerRef&&e.containerRef.removeEventListener("wheel",e.onWheel),e.wheelTimer&&clearTimeout(e.wheelTimer)},e.onMediaLoad=function(){var r=e.computeSizes();r&&(e.emitCropData(),e.setInitialCrop(r)),e.props.onMediaLoaded&&e.props.onMediaLoaded(e.mediaSize)},e.setInitialCrop=function(r){if(e.props.initialCroppedAreaPercentages){var o=$n(e.props.initialCroppedAreaPercentages,e.mediaSize,e.props.rotation,r,e.props.minZoom,e.props.maxZoom),a=o.crop,i=o.zoom;e.props.onCropChange(a),e.props.onZoomChange&&e.props.onZoomChange(i)}else if(e.props.initialCroppedAreaPixels){var s=Tn(e.props.initialCroppedAreaPixels,e.mediaSize,e.props.rotation,r,e.props.minZoom,e.props.maxZoom),a=s.crop,i=s.zoom;e.props.onCropChange(a),e.props.onZoomChange&&e.props.onZoomChange(i)}},e.computeSizes=function(){var r,o,a,i,s,f,c=e.imageRef.current||e.videoRef.current;if(c&&e.containerRef){e.containerRect=e.containerRef.getBoundingClientRect(),e.saveContainerPosition();var u=e.containerRect.width/e.containerRect.height,g=((r=e.imageRef.current)===null||r===void 0?void 0:r.naturalWidth)||((o=e.videoRef.current)===null||o===void 0?void 0:o.videoWidth)||0,C=((a=e.imageRef.current)===null||a===void 0?void 0:a.naturalHeight)||((i=e.videoRef.current)===null||i===void 0?void 0:i.videoHeight)||0,b=c.offsetWidth<g||c.offsetHeight<C,m=g/C,p=void 0;if(b)switch(e.state.mediaObjectFit){default:case"contain":p=u>m?{width:e.containerRect.height*m,height:e.containerRect.height}:{width:e.containerRect.width,height:e.containerRect.width/m};break;case"horizontal-cover":p={width:e.containerRect.width,height:e.containerRect.width/m};break;case"vertical-cover":p={width:e.containerRect.height*m,height:e.containerRect.height};break}else p={width:c.offsetWidth,height:c.offsetHeight};e.mediaSize=ce(ce({},p),{naturalWidth:g,naturalHeight:C}),e.props.setMediaSize&&e.props.setMediaSize(e.mediaSize);var l=e.props.cropSize?e.props.cropSize:Dn(e.mediaSize.width,e.mediaSize.height,e.containerRect.width,e.containerRect.height,e.props.aspect,e.props.rotation);return(((s=e.state.cropSize)===null||s===void 0?void 0:s.height)!==l.height||((f=e.state.cropSize)===null||f===void 0?void 0:f.width)!==l.width)&&e.props.onCropSizeChange&&e.props.onCropSizeChange(l),e.setState({cropSize:l},e.recomputeCropPosition),e.props.setCropSize&&e.props.setCropSize(l),l}},e.saveContainerPosition=function(){if(e.containerRef){var r=e.containerRef.getBoundingClientRect();e.containerPosition={x:r.left,y:r.top}}},e.onMouseDown=function(r){e.currentDoc&&(r.preventDefault(),e.currentDoc.addEventListener("mousemove",e.onMouseMove),e.currentDoc.addEventListener("mouseup",e.onDragStopped),e.saveContainerPosition(),e.onDragStart(n.getMousePoint(r)))},e.onMouseMove=function(r){return e.onDrag(n.getMousePoint(r))},e.onScroll=function(r){e.currentDoc&&(r.preventDefault(),e.saveContainerPosition())},e.onTouchStart=function(r){e.currentDoc&&(e.isTouching=!0,!(e.props.onTouchRequest&&!e.props.onTouchRequest(r))&&(e.currentDoc.addEventListener("touchmove",e.onTouchMove,{passive:!1}),e.currentDoc.addEventListener("touchend",e.onDragStopped),e.saveContainerPosition(),r.touches.length===2?e.onPinchStart(r):r.touches.length===1&&e.onDragStart(n.getTouchPoint(r.touches[0]))))},e.onTouchMove=function(r){r.preventDefault(),r.touches.length===2?e.onPinchMove(r):r.touches.length===1&&e.onDrag(n.getTouchPoint(r.touches[0]))},e.onGestureStart=function(r){e.currentDoc&&(r.preventDefault(),e.currentDoc.addEventListener("gesturechange",e.onGestureMove),e.currentDoc.addEventListener("gestureend",e.onGestureEnd),e.gestureZoomStart=e.props.zoom,e.gestureRotationStart=e.props.rotation)},e.onGestureMove=function(r){if(r.preventDefault(),!e.isTouching){var o=n.getMousePoint(r),a=e.gestureZoomStart-1+r.scale;if(e.setNewZoom(a,o,{shouldUpdatePosition:!0}),e.props.onRotationChange){var i=e.gestureRotationStart+r.rotation;e.props.onRotationChange(i)}}},e.onGestureEnd=function(r){e.cleanEvents()},e.onDragStart=function(r){var o,a,i=r.x,s=r.y;e.dragStartPosition={x:i,y:s},e.dragStartCrop=ce({},e.props.crop),(a=(o=e.props).onInteractionStart)===null||a===void 0||a.call(o)},e.onDrag=function(r){var o=r.x,a=r.y;e.currentWindow&&(e.rafDragTimeout&&e.currentWindow.cancelAnimationFrame(e.rafDragTimeout),e.rafDragTimeout=e.currentWindow.requestAnimationFrame(function(){if(e.state.cropSize&&!(o===void 0||a===void 0)){var i=o-e.dragStartPosition.x,s=a-e.dragStartPosition.y,f={x:e.dragStartCrop.x+i,y:e.dragStartCrop.y+s},c=e.props.restrictPosition?tt(f,e.mediaSize,e.state.cropSize,e.props.zoom,e.props.rotation):f;e.props.onCropChange(c)}}))},e.onDragStopped=function(){var r,o;e.isTouching=!1,e.cleanEvents(),e.emitCropData(),(o=(r=e.props).onInteractionEnd)===null||o===void 0||o.call(r)},e.onWheel=function(r){if(e.currentWindow&&!(e.props.onWheelRequest&&!e.props.onWheelRequest(r))){r.preventDefault();var o=n.getMousePoint(r),a=Mn(r).pixelY,i=e.props.zoom-a*e.props.zoomSpeed/200;e.setNewZoom(i,o,{shouldUpdatePosition:!0}),e.state.hasWheelJustStarted||e.setState({hasWheelJustStarted:!0},function(){var s,f;return(f=(s=e.props).onInteractionStart)===null||f===void 0?void 0:f.call(s)}),e.wheelTimer&&clearTimeout(e.wheelTimer),e.wheelTimer=e.currentWindow.setTimeout(function(){return e.setState({hasWheelJustStarted:!1},function(){var s,f;return(f=(s=e.props).onInteractionEnd)===null||f===void 0?void 0:f.call(s)})},250)}},e.getPointOnContainer=function(r,o){var a=r.x,i=r.y;if(!e.containerRect)throw new Error("The Cropper is not mounted");return{x:e.containerRect.width/2-(a-o.x),y:e.containerRect.height/2-(i-o.y)}},e.getPointOnMedia=function(r){var o=r.x,a=r.y,i=e.props,s=i.crop,f=i.zoom;return{x:(o+s.x)/f,y:(a+s.y)/f}},e.setNewZoom=function(r,o,a){var i=a===void 0?{}:a,s=i.shouldUpdatePosition,f=s===void 0?!0:s;if(!(!e.state.cropSize||!e.props.onZoomChange)){var c=mt(r,e.props.minZoom,e.props.maxZoom);if(f){var u=e.getPointOnContainer(o,e.containerPosition),g=e.getPointOnMedia(u),C={x:g.x*c-u.x,y:g.y*c-u.y},b=e.props.restrictPosition?tt(C,e.mediaSize,e.state.cropSize,c,e.props.rotation):C;e.props.onCropChange(b)}e.props.onZoomChange(c)}},e.getCropData=function(){if(!e.state.cropSize)return null;var r=e.props.restrictPosition?tt(e.props.crop,e.mediaSize,e.state.cropSize,e.props.zoom,e.props.rotation):e.props.crop;return Nn(r,e.mediaSize,e.state.cropSize,e.getAspect(),e.props.zoom,e.props.rotation,e.props.restrictPosition)},e.emitCropData=function(){var r=e.getCropData();if(r){var o=r.croppedAreaPercentages,a=r.croppedAreaPixels;e.props.onCropComplete&&e.props.onCropComplete(o,a),e.props.onCropAreaChange&&e.props.onCropAreaChange(o,a)}},e.emitCropAreaChange=function(){var r=e.getCropData();if(r){var o=r.croppedAreaPercentages,a=r.croppedAreaPixels;e.props.onCropAreaChange&&e.props.onCropAreaChange(o,a)}},e.recomputeCropPosition=function(){if(e.state.cropSize){var r=e.props.restrictPosition?tt(e.props.crop,e.mediaSize,e.state.cropSize,e.props.zoom,e.props.rotation):e.props.crop;e.props.onCropChange(r),e.emitCropData()}},e.onKeyDown=function(r){var o,a,i=e.props,s=i.crop,f=i.onCropChange,c=i.keyboardStep,u=i.zoom,g=i.rotation,C=c;if(e.state.cropSize){r.shiftKey&&(C*=.2);var b=ce({},s);switch(r.key){case"ArrowUp":b.y-=C,r.preventDefault();break;case"ArrowDown":b.y+=C,r.preventDefault();break;case"ArrowLeft":b.x-=C,r.preventDefault();break;case"ArrowRight":b.x+=C,r.preventDefault();break;default:return}e.props.restrictPosition&&(b=tt(b,e.mediaSize,e.state.cropSize,u,g)),r.repeat||(a=(o=e.props).onInteractionStart)===null||a===void 0||a.call(o),f(b)}},e.onKeyUp=function(r){var o,a;switch(r.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":r.preventDefault();break;default:return}e.emitCropData(),(a=(o=e.props).onInteractionEnd)===null||a===void 0||a.call(o)},e}return n.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=zn,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef),this.props.setCropperRef&&this.props.setCropperRef(this.cropperRef))},n.prototype.componentWillUnmount=function(){var e,r;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((r=this.styleRef.parentNode)===null||r===void 0||r.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},n.prototype.componentDidUpdate=function(e){var r,o,a,i,s,f,c,u,g;e.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):e.aspect!==this.props.aspect?this.computeSizes():e.objectFit!==this.props.objectFit?this.computeSizes():e.zoom!==this.props.zoom?this.recomputeCropPosition():((r=e.cropSize)===null||r===void 0?void 0:r.height)!==((o=this.props.cropSize)===null||o===void 0?void 0:o.height)||((a=e.cropSize)===null||a===void 0?void 0:a.width)!==((i=this.props.cropSize)===null||i===void 0?void 0:i.width)?this.computeSizes():(((s=e.crop)===null||s===void 0?void 0:s.x)!==((f=this.props.crop)===null||f===void 0?void 0:f.x)||((c=e.crop)===null||c===void 0?void 0:c.y)!==((u=this.props.crop)===null||u===void 0?void 0:u.y))&&this.emitCropAreaChange(),e.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),e.video!==this.props.video&&((g=this.videoRef.current)===null||g===void 0||g.load());var C=this.getObjectFit();C!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:C},this.computeSizes)},n.prototype.getAspect=function(){var e=this.props,r=e.cropSize,o=e.aspect;return r?r.width/r.height:o},n.prototype.getObjectFit=function(){var e,r,o,a;if(this.props.objectFit==="cover"){var i=this.imageRef.current||this.videoRef.current;if(i&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var s=this.containerRect.width/this.containerRect.height,f=((e=this.imageRef.current)===null||e===void 0?void 0:e.naturalWidth)||((r=this.videoRef.current)===null||r===void 0?void 0:r.videoWidth)||0,c=((o=this.imageRef.current)===null||o===void 0?void 0:o.naturalHeight)||((a=this.videoRef.current)===null||a===void 0?void 0:a.videoHeight)||0,u=f/c;return u<s?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},n.prototype.onPinchStart=function(e){var r=n.getTouchPoint(e.touches[0]),o=n.getTouchPoint(e.touches[1]);this.lastPinchDistance=ir(r,o),this.lastPinchRotation=sr(r,o),this.onDragStart(cr(r,o))},n.prototype.onPinchMove=function(e){var r=this;if(!(!this.currentDoc||!this.currentWindow)){var o=n.getTouchPoint(e.touches[0]),a=n.getTouchPoint(e.touches[1]),i=cr(o,a);this.onDrag(i),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var s=ir(o,a),f=r.props.zoom*(s/r.lastPinchDistance);r.setNewZoom(f,i,{shouldUpdatePosition:!1}),r.lastPinchDistance=s;var c=sr(o,a),u=r.props.rotation+(c-r.lastPinchRotation);r.props.onRotationChange&&r.props.onRotationChange(u),r.lastPinchRotation=c})}},n.prototype.render=function(){var e=this,r,o=this.props,a=o.image,i=o.video,s=o.mediaProps,f=o.cropperProps,c=o.transform,u=o.crop,g=u.x,C=u.y,b=o.rotation,m=o.zoom,p=o.cropShape,l=o.showGrid,v=o.style,h=v.containerStyle,y=v.cropAreaStyle,x=v.mediaStyle,E=o.classes,M=E.containerClassName,j=E.cropAreaClassName,z=E.mediaClassName,N=(r=this.state.mediaObjectFit)!==null&&r!==void 0?r:this.getObjectFit();return d.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(R){return e.containerRef=R},"data-testid":"container",style:h,className:ct("reactEasyCrop_Container",M)},a?d.createElement("img",ce({alt:"",className:ct("reactEasyCrop_Image",N==="contain"&&"reactEasyCrop_Contain",N==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",N==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",z)},s,{src:a,ref:this.imageRef,style:ce(ce({},x),{transform:c||"translate(".concat(g,"px, ").concat(C,"px) rotate(").concat(b,"deg) scale(").concat(m,")")}),onLoad:this.onMediaLoad})):i&&d.createElement("video",ce({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:ct("reactEasyCrop_Video",N==="contain"&&"reactEasyCrop_Contain",N==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",N==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",z)},s,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:ce(ce({},x),{transform:c||"translate(".concat(g,"px, ").concat(C,"px) rotate(").concat(b,"deg) scale(").concat(m,")")}),controls:!1}),(Array.isArray(i)?i:[{src:i}]).map(function(w){return d.createElement("source",ce({key:w.src},w))})),this.state.cropSize&&d.createElement("div",ce({ref:this.cropperRef,style:ce(ce({},y),{width:this.state.cropSize.width,height:this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,"data-testid":"cropper",className:ct("reactEasyCrop_CropArea",p==="round"&&"reactEasyCrop_CropAreaRound",l&&"reactEasyCrop_CropAreaGrid",j)},f)))},n.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:In,minZoom:Fn,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},cropperProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:Bn},n.getMousePoint=function(e){return{x:Number(e.clientX),y:Number(e.clientY)}},n.getTouchPoint=function(e){return{x:Number(e.clientX),y:Number(e.clientY)}},n}(d.Component);const ke="img-crop",Pt=1,rt=.1,dt=0,lr=-180,ur=180,Mt=1,nt=.01,Hn=d.forwardRef((t,n)=>{const{cropperRef:e,zoomSlider:r,rotationSlider:o,aspectSlider:a,showReset:i,resetBtnText:s,modalImage:f,aspect:c,minZoom:u,maxZoom:g,minAspect:C,maxAspect:b,cropShape:m,showGrid:p,cropperProps:l}=t,[v,h]=d.useState(Pt),[y,x]=d.useState(dt),[E,M]=d.useState(c),j=v!==Pt||y!==dt||E!==c,z=()=>{h(Pt),x(dt),M(c)},[N,w]=d.useState({x:0,y:0}),R=d.useRef({width:0,height:0,x:0,y:0}),P=d.useCallback((K,W)=>{R.current=W},[]);d.useImperativeHandle(n,()=>({rotation:y,cropPixelsRef:R,onReset:z}));const k="[display:flex] [align-items:center] [width:60%] [margin-inline:auto]",F="[display:flex] [align-items:center] [justify-content:center] [height:32px] [width:32px] [background:transparent] [border:0] [font-family:inherit] [font-size:18px] [cursor:pointer] disabled:[opacity:20%] disabled:[cursor:default]",O="[flex:1]";return S.jsxs(S.Fragment,{children:[S.jsx(Ln,Object.assign({},l,{ref:e,image:f,crop:N,zoom:v,rotation:y,aspect:E,minZoom:u,maxZoom:g,zoomWithScroll:r,cropShape:m,showGrid:p,onCropChange:w,onZoomChange:h,onRotationChange:x,onCropComplete:P,classes:{containerClassName:`${ke}-container ![position:relative] [width:100%] [height:40vh] [&~section:first-of-type]:[margin-top:16px] [&~section:last-of-type]:[margin-bottom:16px]`,mediaClassName:`${ke}-media`}})),r&&S.jsxs("section",{className:`${ke}-control ${ke}-control-zoom ${k}`,children:[S.jsx("button",{className:F,onClick:()=>h(+(v-rt).toFixed(1)),disabled:v-rt<u,children:"－"}),S.jsx(Ct,{className:O,min:u,max:g,step:rt,value:v,onChange:h}),S.jsx("button",{className:F,onClick:()=>h(+(v+rt).toFixed(1)),disabled:v+rt>g,children:"＋"})]}),o&&S.jsxs("section",{className:`${ke}-control ${ke}-control-rotation ${k}`,children:[S.jsx("button",{className:`${F} [font-size:16px]`,onClick:()=>x(y-Mt),disabled:y===lr,children:"↺"}),S.jsx(Ct,{className:O,min:lr,max:ur,step:Mt,value:y,onChange:x}),S.jsx("button",{className:`${F} [font-size:16px]`,onClick:()=>x(y+Mt),disabled:y===ur,children:"↻"})]}),a&&S.jsxs("section",{className:`${ke}-control ${ke}-control-aspect ${k}`,children:[S.jsx("button",{className:F,onClick:()=>M(+(E-nt).toFixed(2)),disabled:E-nt<C,children:"↕"}),S.jsx(Ct,{className:O,min:C,max:b,step:nt,value:E,onChange:M}),S.jsx("button",{className:F,onClick:()=>M(+(E+nt).toFixed(2)),disabled:E+nt>b,children:"↔"})]}),i&&(r||o||a)&&S.jsx(ft,{className:"[bottom:20px] [position:absolute]",style:j?{}:{opacity:.3,pointerEvents:"none"},onClick:z,children:s})]})});var Wn=d.memo(Hn);function qn(t,n){n===void 0&&(n={});var e=n.insertAt;if(!(typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css",e==="top"&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=t:o.appendChild(document.createTextNode(t))}}var Un=".\\[align-items\\:center\\]{align-items:center}.\\[background\\:transparent\\]{background:transparent}.\\[border\\:0\\]{border:0}.\\[bottom\\:20px\\]{bottom:20px}.\\[cursor\\:pointer\\]{cursor:pointer}.\\[display\\:flex\\]{display:flex}.\\[flex\\:1\\]{flex:1}.\\[font-family\\:inherit\\]{font-family:inherit}.\\[font-size\\:16px\\]{font-size:16px}.\\[font-size\\:18px\\]{font-size:18px}.\\[height\\:32px\\]{height:32px}.\\[height\\:40vh\\]{height:40vh}.\\[justify-content\\:center\\]{justify-content:center}.\\[margin-inline\\:auto\\]{margin-inline:auto}.\\[position\\:absolute\\]{position:absolute}.\\!\\[position\\:relative\\]{position:relative!important}.\\[width\\:100\\%\\]{width:100%}.\\[width\\:32px\\]{width:32px}.\\[width\\:60\\%\\]{width:60%}.disabled\\:\\[cursor\\:default\\]:disabled{cursor:default}.disabled\\:\\[opacity\\:20\\%\\]:disabled{opacity:20%}.\\[\\&\\~section\\:first-of-type\\]\\:\\[margin-top\\:16px\\]~section:first-of-type{margin-top:16px}.\\[\\&\\~section\\:last-of-type\\]\\:\\[margin-bottom\\:16px\\]~section:last-of-type{margin-bottom:16px}";qn(Un,{insertAt:"top"});const Zn=d.forwardRef((t,n)=>{const{quality:e=.4,fillColor:r="white",zoomSlider:o=!0,rotationSlider:a=!1,aspectSlider:i=!1,showReset:s=!1,resetText:f,aspect:c=1,minZoom:u=1,maxZoom:g=3,minAspect:C=.5,maxAspect:b=2,cropShape:m="rect",showGrid:p=!1,cropperProps:l,modalClassName:v,modalTitle:h,modalWidth:y,modalOk:x,modalCancel:E,onModalOk:M,onModalCancel:j,modalProps:z,beforeCrop:N,children:w}=t,R=d.useRef({});R.current.onModalOk=M,R.current.onModalCancel=j,R.current.beforeCrop=N;const P=d.useRef(null),k=d.useCallback($=>{var T;const I=document.createElement("canvas"),_=I.getContext("2d"),U=(((T=$==null?void 0:$.getRootNode)===null||T===void 0?void 0:T.call($))||document).querySelector(`.${ke}-media`),{width:B,height:Z,x:Q,y:ee}=P.current.cropPixelsRef.current;if(a&&P.current.rotation!==dt){const{naturalWidth:te,naturalHeight:re}=U,ne=P.current.rotation*(Math.PI/180),ye=Math.abs(Math.sin(ne)),ue=Math.abs(Math.cos(ne)),J=te*ue+re*ye,X=re*ue+te*ye;I.width=J,I.height=X,_.fillStyle=r,_.fillRect(0,0,J,X);const H=J/2,ae=X/2;_.translate(H,ae),_.rotate(ne),_.translate(-H,-ae);const Ee=(J-te)/2,Se=(X-re)/2;_.drawImage(U,0,0,te,re,Ee,Se,te,re);const fe=_.getImageData(0,0,J,X);I.width=B,I.height=Z,_.putImageData(fe,-Q,-ee)}else I.width=B,I.height=Z,_.fillStyle=r,_.fillRect(0,0,B,Z),_.drawImage(U,Q,ee,B,Z,0,0,B,Z);return I},[r,a]),[F,O]=d.useState(""),K=d.useRef(),W=d.useRef(),me=d.useCallback($=>st(void 0,[$],void 0,function*({beforeUpload:T,file:I,resolve:_,reject:Y}){const U=I;if(typeof T!="function"){_(U);return}try{const B=yield T(I,[I]);_(B===!1?!1:B!==!0&&B||U)}catch(B){Y(B)}}),[]),le=d.useCallback($=>(T,I)=>new Promise((_,Y)=>st(void 0,void 0,void 0,function*(){let U=T;if(typeof R.current.beforeCrop=="function")try{const Z=yield R.current.beforeCrop(T,I);if(Z===!1)return me({beforeUpload:$,file:T,resolve:_,reject:Y});Z!==!0&&(U=Z||T)}catch{return me({beforeUpload:$,file:T,resolve:_,reject:Y})}const B=new FileReader;B.addEventListener("load",()=>{typeof B.result=="string"&&O(B.result)}),B.readAsDataURL(U),K.current=()=>{var Z,Q;O(""),P.current.onReset();let ee=!1;(Q=(Z=R.current).onModalCancel)===null||Q===void 0||Q.call(Z,te=>{_(te),ee=!0}),ee||_(vr.LIST_IGNORE)},W.current=Z=>st(void 0,void 0,void 0,function*(){O(""),P.current.onReset();const Q=k(Z.target),{type:ee,name:te,uid:re}=U;Q.toBlob(ne=>st(void 0,void 0,void 0,function*(){const ye=new File([ne],te,{type:ee});Object.assign(ye,{uid:re}),me({beforeUpload:$,file:ye,resolve:ue=>{var J,X;_(ue),(X=(J=R.current).onModalOk)===null||X===void 0||X.call(J,ue)},reject:ue=>{var J,X;Y(ue),(X=(J=R.current).onModalOk)===null||X===void 0||X.call(J,ue)}})}),ee,e)})})),[k,e,me]),we=d.useCallback($=>{const T=Array.isArray($)?$[0]:$,I=T.props,{beforeUpload:_,accept:Y}=I,U=Cn(I,["beforeUpload","accept"]);return Object.assign(Object.assign({},T),{props:Object.assign(Object.assign({},U),{accept:Y||"image/*",beforeUpload:le(_)})})},[le]),be=d.useMemo(()=>{const $={};return y!==void 0&&($.width=y),x!==void 0&&($.okText=x),E!==void 0&&($.cancelText=E),$},[E,x,y]),de=`${ke}-modal${v?` ${v}`:""}`,oe=(typeof window>"u"?"":window.navigator.language)==="zh-CN",q=h||(oe?"编辑图片":"Edit image"),A=f||(oe?"重置":"Reset");return S.jsxs(S.Fragment,{children:[we(w),F&&S.jsx(Zr,Object.assign({},z,be,{open:!0,title:q,onCancel:K.current,onOk:W.current,wrapClassName:de,maskClosable:!1,destroyOnClose:!0,children:S.jsx(Wn,{ref:P,cropperRef:n,zoomSlider:o,rotationSlider:a,aspectSlider:i,showReset:s,resetBtnText:A,modalImage:F,aspect:c,minZoom:u,maxZoom:g,minAspect:C,maxAspect:b,cropShape:m,showGrid:p,cropperProps:l})}))]})}),no=({handleCurrent:t,hadleMenuId:n})=>{const[e]=fr(),r=Number(e.get("strfId")),o=e.get("category"),a=Number(e.get("menuId")),s=hr().pathname,f=pr(),c=w=>{s==="/business/menu/create"&&(o===Xt.STAY?(t==null||t(1),f(`/business/menu/create?strfId=${r}&category=${o}&menuId=${w}`)):f(`/business/menu?strfId=${r}&category=${o}&menuId=${w}`)),s==="/business/menu/edit"&&f(`/business/menu?strfId=${r}&category=${o}&menuId=${w}`)},u=ht("user"),g=u==null?void 0:u.strfDtos[0].busiNum,C=ht("accessToken"),[b]=gr(),[m]=Wr(Gt),p=qr(Gt);d.useEffect(()=>{var w;b.setFieldsValue({menuPic:{uid:"1",name:m.menuTitle,status:"done",url:`${Ur}/${r}/menu/${(w=m.menuPic)==null?void 0:w.url}`},menuTitle:m.menuTitle,menuPrice:m.menuPrice})},[]);const[l,v]=d.useState([]),[,h]=d.useState(null),[y,x]=d.useState(!1),E=({fileList:w})=>{v(w),b.setFieldValue("menuPic",w)},M=async w=>{let R=w.url;R||(R=await new Promise(F=>{const O=new FileReader;O.readAsDataURL(w.originFileObj),O.onload=()=>F(O.result)}));const P=new Image;P.src=R;const k=window.open(R);k==null||k.document.write(P.outerHTML)},j=async w=>{x(!0);const R="/api/detail/menu";try{const P=await pt.post(R,w,{headers:{Authorization:`Bearer ${C}`}});console.log("메뉴 등록 code",P.data.code);const k=P.data,F=Number(k.data);return k.code==="200 성공"&&(Ge.success("메뉴 등록을 성공했습니다"),c(F),n==null||n(k.data),x(!1),p()),P.data}catch(P){return console.error("메뉴 등록 실패",P),x(!1),Ge.error("메뉴 등록에 실패했습니다"),null}},z=async w=>{x(!0);const R="/api/detail/menu";try{const P=await pt.patch(R,w,{headers:{Authorization:`Bearer ${C}`}});console.log("메뉴 수정",P.data);const k=P.data;return(k==null?void 0:k.code)==="200 성공"&&(x(!1),c(a),Ge.success("메뉴 수정을 성공했습니다"),p()),P.data}catch(P){return console.error("메뉴 수정 실패",P),x(!1),Ge.error("메뉴 수정에 실패했습니다"),null}},N=w=>{const{menuTitle:R,menuPrice:P}=w,k={strfId:r,busiNum:g,menus:[{menuTitle:R,menuPrice:P}]},F={strfId:r,menuId:a,busiNum:g,menus:[{menuPrice:P,menuTitle:R}]},O=new FormData;if(!l||l.length===0){console.error("⚠️ fileList가 비어 있습니다!");return}O.append("menuPic",l[0].originFileObj),s==="/business/menu/create"&&(console.log("p",k),O.append("p",new Blob([JSON.stringify(k)],{type:"application/json"})),console.log("제출 데이터",O.get("p"))),s==="/business/menu/edit"&&(console.log("menuReq",F),O.append("menuReq",new Blob([JSON.stringify(F)],{type:"application/json"})),console.log("제출 데이터",O.get("menuReq"))),console.log("FormData entries:");for(let K of O.entries())console.log(K[0],K[1]);s==="/business/menu/create"&&j(O),s==="/business/menu/edit"&&z(O)};return S.jsx("section",{className:"flex flex-col gap-2 px-4 py-3",children:S.jsx(br,{spinning:y,children:S.jsxs(_e,{form:b,onFinish:N,name:"menu",children:[S.jsxs("div",{className:"py-2 flex flex-col gap-1",children:[S.jsxs("h3",{className:"text-slate-700 text-lg font-semibold",children:[De(o)," 사진"]}),S.jsxs("p",{className:"text-sm text-slate-500",children:[De(o)," 이미지를 등록해주세요."]})]}),S.jsx(_e.Item,{name:"menuPic",rules:[{required:!0,message:"메뉴 사진을 등록해주세요.",validator:()=>l.length>0?Promise.resolve():Promise.reject(new Error("메뉴 사진을 등록해주세요."))}],help:`${De(o)} 이미지는 최대 1장입니다.`,children:S.jsx(Zn,{rotationSlider:!0,children:S.jsx(vr,{listType:"picture-card",fileList:l,onChange:E,onPreview:M,beforeUpload:()=>!1,accept:"image/*",maxCount:1,children:l.length<1&&"+ Upload"})})}),S.jsxs("div",{className:"py-2 flex flex-col gap-1",children:[S.jsxs("h3",{className:"text-slate-700 text-lg font-semibold",children:[De(o)," 이름"]}),S.jsxs("p",{className:"text-sm text-slate-500",children:["고객에게 보이는 ",De(o)," 이름입니다."]})]}),S.jsx(_e.Item,{name:"menuTitle",rules:[{required:!0,message:`${De(o)} 이름을 입력해주세요.`}],className:"w-3/4",children:S.jsx(mr,{size:"large",placeholder:`${De(o)} 이름을 입력해주세요 예) ${o===Xt.STAY?"트윈룸":"마라탕"}`})}),S.jsxs("div",{className:"py-2 flex flex-col gap-1",children:[S.jsxs("h3",{className:"text-slate-700 text-lg font-semibold",children:[De(o)," 가격"]}),S.jsxs("p",{className:"text-sm text-slate-500",children:["고객에게 보이는 ",De(o)," 가격입니다."]})]}),S.jsx(_e.Item,{name:"menuPrice",rules:[{required:!0,message:`${De(o)} 가격을 입력해주세요.`}],className:"w-3/4",children:S.jsx(ut,{size:"large",placeholder:`${De(o)} 가격을 입력해주세요 예) 100000`,suffix:"원",onChange:w=>{typeof w=="number"&&h(w)},formatter:w=>typeof w=="string"?w.replace(/\B(?=(\d{3})+(?!\d))/g,","):"",parser:w=>w==null?void 0:w.replace(/,/g,""),className:"w-full"})}),S.jsxs(_e.Item,{className:"flex justify-end gap-2",children:[S.jsxs(ft,{type:"default",size:"large",htmlType:"button",className:"mr-5 text-slate-500 text-lg",onClick:()=>b.resetFields(),children:[S.jsx(Gr,{}),"초기화"]}),S.jsx(ft,{type:"primary",htmlType:"submit",size:"large",className:"text-lg",children:s==="/business/menu/create"?"등록하기":"수정하기"})]})]})})})},oo=()=>{const t=ht("accessToken"),n=ht("user"),e=n==null?void 0:n.strfDtos[0].busiNum,[r]=fr(),o=Number(r.get("strfId")),a=r.get("category"),i=r.get("menuId"),s=pr(),[f]=gr(),[c,u]=d.useState(!1),[g,C]=d.useState([]),b=hr(),m=b.pathname,p=b.state;console.log("state",p);const l=async x=>{u(!0);const E="/api/detail/stay";try{const M=await pt.post(E,x,{headers:{Authorization:`Bearer ${t}`}});console.log(M.data);const j=M.data;return j&&(u(!1),Ge.success("객실 생성 완료"),s(`/business/menu?strfId=${o}&category=${a}`)),j}catch{return u(!1),null}},v=async x=>{u(!0);const E="/api/detail/stay";try{const M=await pt.patch(E,x,{headers:{Authorization:`Bearer ${t}`}});console.log(M.data);const j=M.data;return j&&(u(!1),Ge.success("객실 수정이 완료되었습니다"),s(`/business/menu/detail?strfId=${o}&category=${a}&menuId=${i}`)),j}catch{return u(!1),null}},h=x=>{g.includes(x)?C(E=>E.filter(M=>M!==x)):C(E=>[...E,x])},y=x=>{console.log(x);const{recomCapacity:E,maxCapacity:M,surcharge:j,rooms:z}=x,N={strfId:o,busiNum:e,category:Yt(a),menuId:Number(i),ameniPoints:g,parlors:[{menuId:Number(i),recomCapacity:E,maxCapacity:M,surcharge:j}],rooms:z},w={stayReq:{strfId:o,busiNum:e,category:Yt(a),menuId:Number(i),parlors:[{recomCapacity:E,maxCapacity:M,surcharge:j}],rooms:z}};m==="/business/menu/create"&&(console.log("생성 payload",N),l(N)),m==="/business/menu/edit"&&(console.log("수정 payload",w),v(w))};return d.useEffect(()=>{p&&f.setFieldsValue({rooms:p.roomNum.length,recomCapacity:p.recomCapacity,maxCapacity:p.maxCapacity,surcharge:p.surcharge})},[]),S.jsx("div",{className:"px-4 py-3",children:S.jsx(br,{spinning:c,children:S.jsxs(_e,{form:f,onFinish:y,name:"room/parlors/amenities",children:[S.jsxs("div",{className:"py-2 flex flex-col gap-1",children:[S.jsx("h3",{className:"text-slate-700 text-lg font-semibold",children:"객실 수량"}),S.jsx("p",{className:"text-sm text-slate-500",children:"해당 객실 종류의 수량을 선택해주세요."})]}),S.jsx(_e.Item,{name:"rooms",rules:[{required:!0,message:"객실 번호를 입력해주세요."}],className:"w-full pb-5",children:S.jsx(mr,{placeholder:"객실 수량을 선택해주세요",size:"large"})}),S.jsxs("div",{className:"py-2 flex flex-col gap-1",children:[S.jsx("h3",{className:"text-slate-700 text-lg font-semibold",children:"객실 인원"}),S.jsxs("p",{className:"text-sm text-slate-500",children:["해당 객실 종류의 권장 인원 및 최대 인원과 그에 따른 추가금액을",S.jsx("br",{}),"입력해주세요."]})]}),S.jsx(_e.Item,{name:"recomCapacity",rules:[{required:!0,message:"권장 인원을 입력해주세요."}],label:"권장 인원",labelCol:{span:30},className:"w-full",children:S.jsx(ut,{size:"large",placeholder:"권장 인원",className:"w-3/4",suffix:"명",onChange:x=>f.setFieldsValue({maxCapacity:x})})}),S.jsx(_e.Item,{name:"maxCapacity",rules:[{required:!0,message:"최대 인원을 입력해주세요."}],label:"최대 인원",labelCol:{span:30},className:"w-full",children:S.jsx(ut,{size:"large",placeholder:"최대 인원",className:"w-3/4",suffix:"명"})}),S.jsx(_e.Item,{name:"surcharge",rules:[{required:!0,message:"추가 금액을 입력해주세요."}],label:"추가 금액",labelCol:{span:30},className:"w-full pb-5",children:S.jsx(ut,{size:"large",placeholder:"추가 금액",className:"w-3/4",suffix:"원",formatter:x=>x?`${x}`.replace(/\B(?=(\d{3})+(?!\d))/g,","):""})}),m!=="/business/menu/edit"&&S.jsxs("div",{className:"py-2 flex flex-col gap-1 pb-10",children:[S.jsx("h3",{className:"text-slate-700 text-lg font-semibold",children:"편의 시설"}),S.jsxs("p",{className:"text-sm text-slate-500 pb-2",children:["해당 객실 종류의 편의 시설을 선택해주세요.",S.jsx("br",{})," * 해당 편의시설은 검색 필터에 적용됩니다."]}),S.jsx("div",{className:"flex flex-wrap gap-2",children:Yr.map((x,E)=>S.jsxs("button",{type:"button",className:`flex text-base items-center gap-2
                border rounded-2xl w-fit px-2 py-1
                ${g.includes(x.amenity_id)?"border-primary text-primary":"border-slate-300 text-slate-500"}`,onClick:()=>h(x.amenity_id),children:[x.icon,x.key]},E))})]}),S.jsx(_e.Item,{className:"w-full flex justify-end",children:S.jsx(ft,{type:"primary",htmlType:"submit",size:"large",children:m==="/business/menu/create"?"등록하기":"수정하기"})})]})})})};export{no as M,oo as R};
