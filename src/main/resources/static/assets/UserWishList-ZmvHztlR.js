import{j as t,b as h,r,u as f,ao as T,a0 as A,ad as D,B as $,d as E}from"./index-CclgMCKg.js";import{j as m}from"./jwt-Be9xYbvd.js";import{R as L}from"./index-coMdXwgz.js";/* empty css                    */import{T as R}from"./index-Bp8J61U8.js";import"./index-CSlYUxik.js";import"./index-Dx4kxOlF.js";import"./Portal-cEDniDzA.js";import"./useId-C98JHZMn.js";import"./isMobile-DjGTsQxe.js";import"./motion-BtiDeT7c.js";import"./roundedArrow-S-OOpRVx.js";import"./zoom-BWmeO6-E.js";import"./EllipsisOutlined-BwAZKzUe.js";import"./Overflow-b40CqTdl.js";const W=({setShowFilter:a,setOrderType:l})=>t.jsxs("div",{className:"max-w-[768px] w-full h-screen fixed top-0 left-1/2 -translate-x-1/2 bg-white z-10",children:[t.jsx(h,{icon:"",title:"필터",onClick:()=>a(!1)}),t.jsxs("dl",{className:"text-slate-700 py-6 px-4",children:[t.jsx("dt",{className:"text-base font-semibold py-2",children:"정렬"}),t.jsx("dd",{className:"text-sm py-3 border-b-[1px] border-slate-100 cursor-pointer",onClick:()=>{l("ratingAvg"),a(!1)},children:"평점순"}),t.jsx("dd",{className:"text-sm py-3 border-b-[1px] border-slate-100 cursor-pointer",onClick:()=>{l("ratingCnt"),a(!1)},children:"리뷰순"}),t.jsx("dd",{className:"text-sm py-3 cursor-pointer",onClick:()=>{l("likeCnt"),a(!1)},children:"좋아요순"})]})]}),c=({category:a})=>{const[l,i]=r.useState(0),[n,d]=r.useState([]),[j,g]=r.useState(0),[M,P]=r.useState(!0),[b,u]=r.useState(!1),[x,y]=r.useState("ratingAvg"),N=f(),v=async e=>{const o={strfId:e.strfId};try{const s=await m.post("/api/wish-list",{...o});i(0),await p(0)}catch(s){console.log("error",s)}},p=async(e=!1)=>{const o=e?l:0;try{const s=await m.get(`/api/wish-list?start_idx=${o}&orderType=${x}&category=${a}`);d(S=>e?[...S,...s.data.data]:s.data.data),s.data.data&&i(o+10)}catch(s){console.log("찜목록 불러오기 실패",s)}},w=async()=>{try{const e=await m.get("/api/wish-list/count");g(e.data)}catch(e){console.log("찜목록 개수 불러오기 실패",e)}};r.useEffect(()=>{p()},[a,x]),r.useEffect(()=>{w()},[]);const C=()=>{p(!0),console.log("Current startIndex:",l)},k={TOUR:"관광지",FEST:"축제",STAY:"숙소",RESTAUR:"맛집"},I={ratingAvg:"평점순",ratingCnt:"리뷰순",likeCnt:"좋아요순"};return t.jsxs("div",{children:[b&&t.jsx(W,{setShowFilter:u,setOrderType:y}),t.jsxs("div",{className:"flex justify-between py-[14px] px-4 border-b-[1px] border-slate-100 ",children:[t.jsxs("p",{className:"text-sm font-semibold text-slate-700",children:["총 ",j,"개"]}),t.jsxs("button",{className:"flex items-center gap-1 text-slate-500",onClick:()=>u(!0),children:[I[x]," ",t.jsx(T,{})]})]}),t.jsxs("div",{className:"px-4 py-6",children:[t.jsx("ul",{className:"w-full flex flex-col gap-3 mb-[30px]",children:n.map((e,o)=>t.jsxs("li",{className:"flex gap-[20px] items-center cursor-pointer",onClick:()=>N(`/contents/index?strfId=${e.strfId}`),children:[t.jsxs("div",{className:"w-32 min-w-32 aspect-square bg-slate-200 rounded-lg overflow-hidden relative",children:[t.jsx("img",{src:`${A}/${e.strfId}/${e.strfPic}`,alt:e.title,className:"w-full h-full object-cover"}),t.jsx(D,{className:"text-secondary3 text-xl absolute top-2 right-2",onClick:s=>{s.stopPropagation(),v(e)}})]}),t.jsxs("div",{className:"flex flex-col gap-[5px]",children:[t.jsx("div",{className:"flex gap-[5px] items-center ",children:t.jsx("h3",{className:"text-lg font-medium text-slate-700",children:e.strfTitle})}),t.jsx("div",{children:t.jsxs("p",{className:"text-sm text-slate-500",children:[k[e.category]||e.category," ·"," ",e.locationName]})}),t.jsxs("div",{className:"flex gap-1 items-center",children:[t.jsx(L,{disabled:!0,allowHalf:!0,value:e.ratingAvg,className:"flex items-center custom-star-wish custom-star"}),t.jsxs("p",{className:"text-sm text-slate-500",children:["(",e.ratingCnt.toLocaleString(),")"]})]})]})]},o))}),t.jsx("div",{className:"px-[32px] pb-[40px] flex items-center justify-center",children:t.jsx($,{variant:"outlined",onClick:C,className:"text-slate-500 text-base !h-auto py-2 px-5 border-1 border-slate-200 rounded-full",children:"더보기"})})]})]})},Y=E().format("YYYY-MM-DD"),tt=()=>{const a=f(),[l,i]=r.useState(Y),n=d=>{console.log(d)};return t.jsxs("div",{children:[t.jsx(h,{icon:"back",onClick:()=>{a(-1)},title:"찜 목록"}),t.jsx("div",{className:"",children:t.jsx("div",{children:t.jsx(R,{defaultActiveKey:"1",items:[{key:"1",label:"전체",children:t.jsx(c,{category:"전체"})},{key:"2",label:"관광지",children:t.jsx(c,{category:"관광지"})},{key:"3",label:"숙소",children:t.jsx(c,{category:"숙소"})},{key:"4",label:"맛집",children:t.jsx(c,{category:"맛집"})},{key:"5",label:"축제",children:t.jsx(c,{category:"축제"})}],onChange:n,className:"custom-tab border-t-[10px] border-slate-100"})})})]})};export{tt as default};
