import{r,u,j as e,b as f,B as g}from"./index-CclgMCKg.js";import{j as i}from"./jwt-Be9xYbvd.js";import{R as o}from"./index-BJLj7TFm.js";import{C as N}from"./index-C3GGMHyi.js";import"./useBubbleLock-5Rwk7QIw.js";import"./useId-C98JHZMn.js";import"./Checkbox-DQdz-ATm.js";const I=()=>{var c;const[s,d]=r.useState(),[a,m]=r.useState(),[n,x]=r.useState(!1),p=async()=>{try{const t=await i.get("/api/point/card");d(t.data.data)}catch(t){console.log(t)}},b=async()=>{try{const t=await i.post("/api/point/card/buy",{pointCardId:a,amount:l});t.data.data&&window.open(t.data.data,"_self")}catch(t){console.log(t)}};r.useEffect(()=>{p()},[]);const h=u(),j=()=>{h("/user/point")},l=(c=s==null?void 0:s.pointCards.find(t=>t.pointCardId===a))==null?void 0:c.finalPayment,y=a&&n;return console.log(a),console.log(l),e.jsxs("div",{children:[e.jsx(f,{icon:"",title:"포인트 충전",onClick:j}),e.jsx("div",{className:"py-3 px-4 border-b-[10px] border-slate-100",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-700 ml-1 mb-3",children:"충전 포인트"}),e.jsxs("div",{className:"px-3 py-4 border-[1px] border-slate-200 rounded-lg flex items-center justify-between mb-3",children:[e.jsx("p",{className:"text-base text-slate-700",children:"현재 포인트"}),e.jsxs("p",{className:"text-base text-primary font-semibold",children:[s==null?void 0:s.remainPoints.toLocaleString(),"P"]})]}),e.jsx(o.Group,{className:"custom-radio",value:a,onChange:t=>m(t.target.value),options:s==null?void 0:s.pointCards.map(t=>({value:t.pointCardId,label:e.jsxs("div",{className:"flex items-center justify-between text-base text-slate-700 py-4",children:[e.jsxs("p",{children:[t.available.toLocaleString(),"P"]}),e.jsxs("p",{children:[t.finalPayment.toLocaleString(),"원"]})]})}))})]})}),e.jsxs("div",{className:"pt-3 px-4 border-b-[10px] border-slate-100",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-700 mb-3",children:"결제정보"}),e.jsxs("div",{className:"py-4 flex items-center justify-between mb-3",children:[e.jsx("p",{className:"text-base text-slate-700 font-semibold",children:"결제 금액"}),e.jsx("p",{className:"text-base text-primary font-semibold",children:l?`${l.toLocaleString()}원`:"0원"})]})]}),e.jsxs("div",{className:"py-3 px-4 border-b-[10px] border-slate-100",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-700 ml-1 mb-3",children:"결제수단"}),e.jsx("div",{className:"px-3 py-4 border-[1px] border-slate-200 rounded-lg flex items-center justify-between mb-3",children:e.jsx(o,{defaultChecked:!0,className:"custom-payment-radio text-base text-slate-700",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("img",{src:"/images/payment/payment_icon_yellow_small.png",alt:"payment_icon_yellow_small",className:"w-[60px]"}),e.jsx("span",{children:"카카오페이"})]})})}),e.jsxs("div",{className:"bg-slate-50 p-5 rounded-lg",children:[e.jsx("p",{className:"text-lg text-slate-700 mb-[6px]",children:"결제혜택"}),e.jsx("p",{className:"text-sm text-slate-500 tracking-tight",children:'본 프로모션은 카카오페이 계정 기준 "기간 내 1회, 카카오페이머니 결제"에 한해 페이포인트 적립 가능합니다. - 포인트 적립은 장바구니 합산 기준으로 최종 결제 금액 4만원 이상 시 자동 적립되며, 카카오페이 톡채널로 안내됩니다. (기간 내 누적 결제금액이 아닌 단건 결제에 한함) - 기간 내 선착순 3천명 대상으로 예산 소진 시 별도 고지 없이 조기 종료 될 수 있습니다. - 예산 소진 시 페이포인트 적립 메세지가 발송되지 않습니다. - 포인트 사용 유효기간은 적립일로부터 60개월입니다. - 적립된 포인트는 카카오페이 제휴 가맹점에서 사용 가능합니다.'})]})]}),e.jsxs("div",{className:"py-3 px-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-slate-700 ml-1 mb-3",children:"취소정책 및 이용 동의"}),e.jsx(N,{className:"custom-payment-checkbox w-full text-base rounded-lg my-4 text-slate-700",checked:n,onChange:t=>x(t.target.checked),children:"주문 내용과 아래 유의 사항을 확인하였으며 결제 진행에 동의합니다."}),e.jsx(g,{type:"primary",disabled:!y,onClick:b,className:"w-full text-base py-3 !h-auto",children:"결제하기"}),e.jsx("p",{className:"mt-3 text-sm text-slate-500",children:'• 본 약관은 주식회사 카카오페이(이하 "회사"라 합니다)가 제공하는 카카오페이 서비스의 이용과 관련하여 회사와 회원 사이의 권리, 의무 및 책임사항, 기타 필요한 사항을 규정함을 목적으로 합니다.'})]})]})};export{I as default};
